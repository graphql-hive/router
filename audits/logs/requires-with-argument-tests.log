TAP version 13
# Using gateway at     http://localhost:4000/graphql
# Fetching tests from  http://localhost:4200/requires-with-argument/tests
# Subtest: requires-with-argument
    # Subtest: requires-with-argument_0
    ok 1 - requires-with-argument_0
      ---
      duration_ms: 30.292223
      type: 'test'
      ...
    # Subtest: requires-with-argument_1
    ok 2 - requires-with-argument_1
      ---
      duration_ms: 32.845715
      type: 'test'
      ...
    # Subtest: requires-with-argument_2
    not ok 3 - requires-with-argument_2
      ---
      duration_ms: 25.303647
      type: 'test'
      location: '/home/ardatan/Guild/query-planner-rs/audits/node_modules/graphql-federation-gateway-audit/dist/test.js:29:9'
      failureType: 'testCodeFailure'
      error: |-
        Test failed for query
        
              query {
                feed {
                  author {
                    id
                  }
                  comments(limit: 1) {
                    id
                  }
                }
              }
            
        [32m- Expected[39m
        [31m+ Received[39m
        
        [2m  Object {[22m
        [2m    "data": Object {[22m
        [2m      "feed": Array [[22m
        [2m        Object {[22m
        [32m-         "author": Object {[39m
        [32m-           "id": "a2",[39m
        [31m+         "author": null,[39m
        [31m+         "comments": null,[39m
        [2m        },[22m
        [32m-         "comments": Array [[39m
        [2m        Object {[22m
        [32m-             "id": "c1",[39m
        [32m-           },[39m
        [32m-         ],[39m
        [32m-       },[39m
        [32m-       Object {[39m
        [32m-         "author": Object {[39m
        [32m-           "id": "a1",[39m
        [32m-         },[39m
        [32m-         "comments": Array [[39m
        [32m-           Object {[39m
        [32m-             "id": "c4",[39m
        [32m-           },[39m
        [32m-         ],[39m
        [31m+         "author": null,[39m
        [31m+         "comments": null,[39m
        [2m        },[22m
        [2m      ],[22m
        [2m    },[22m
        [2m    "errors": null,[22m
        [2m  }[22m
        [32m+ actual[39m [31m- expected[39m
        
        [39m  {
        [39m    data: {
        [39m      feed: [
        [39m        {
        [32m+[39m         author: null,
        [32m+[39m         comments: null
        [31m-[39m         author: {
        [31m-[39m           id: 'a2'
        [31m-[39m         },
        [31m-[39m         comments: [
        [31m-[39m           {
        [31m-[39m             id: 'c1'
        [31m-[39m           }
        [31m-[39m         ]
        [39m        },
        [39m        {
        [32m+[39m         author: null,
        [32m+[39m         comments: null
        [31m-[39m         author: {
        [31m-[39m           id: 'a1'
        [31m-[39m         },
        [31m-[39m         comments: [
        [31m-[39m           {
        [31m-[39m             id: 'c4'
        [31m-[39m           }
        [31m-[39m         ]
        [39m        }
        [39m      ]
        [39m    },
        [39m    errors: null
        [39m  }
        
      code: 'ERR_ASSERTION'
      name: 'AssertionError'
      expected:
        data:
          feed:
            0:
              author:
                id: 'a2'
              comments:
                0:
                  id: 'c1'
            1:
              author:
                id: 'a1'
              comments:
                0:
                  id: 'c4'
        errors: ~
      actual:
        data:
          feed:
            0:
              author: ~
              comments: ~
            1:
              author: ~
              comments: ~
        errors: ~
      operator: 'deepStrictEqual'
      stack: |-
        TestContext.<anonymous> (file:///home/ardatan/Guild/query-planner-rs/audits/node_modules/graphql-federation-gateway-audit/dist/test.js:45:21)
        process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        async Test.run (node:internal/test_runner/test:1069:7)
        async Suite.processPendingSubtests (node:internal/test_runner/test:752:7)
      ...
    # Subtest: requires-with-argument_3
    not ok 4 - requires-with-argument_3
      ---
      duration_ms: 23.464136
      type: 'test'
      location: '/home/ardatan/Guild/query-planner-rs/audits/node_modules/graphql-federation-gateway-audit/dist/test.js:29:9'
      failureType: 'testCodeFailure'
      error: |-
        Test failed for query
        
              query ($limit: Int = 1) {
                feed {
                  author {
                    id
                  }
                  comments(limit: $limit) {
                    id
                  }
                }
              }
            
        [32m- Expected[39m
        [31m+ Received[39m
        
        [2m  Object {[22m
        [2m    "data": Object {[22m
        [2m      "feed": Array [[22m
        [2m        Object {[22m
        [32m-         "author": Object {[39m
        [32m-           "id": "a2",[39m
        [31m+         "author": null,[39m
        [31m+         "comments": null,[39m
        [2m        },[22m
        [32m-         "comments": Array [[39m
        [2m        Object {[22m
        [32m-             "id": "c1",[39m
        [32m-           },[39m
        [32m-         ],[39m
        [32m-       },[39m
        [32m-       Object {[39m
        [32m-         "author": Object {[39m
        [32m-           "id": "a1",[39m
        [32m-         },[39m
        [32m-         "comments": Array [[39m
        [32m-           Object {[39m
        [32m-             "id": "c4",[39m
        [32m-           },[39m
        [32m-         ],[39m
        [31m+         "author": null,[39m
        [31m+         "comments": null,[39m
        [2m        },[22m
        [2m      ],[22m
        [2m    },[22m
        [2m    "errors": null,[22m
        [2m  }[22m
        [32m+ actual[39m [31m- expected[39m
        
        [39m  {
        [39m    data: {
        [39m      feed: [
        [39m        {
        [32m+[39m         author: null,
        [32m+[39m         comments: null
        [31m-[39m         author: {
        [31m-[39m           id: 'a2'
        [31m-[39m         },
        [31m-[39m         comments: [
        [31m-[39m           {
        [31m-[39m             id: 'c1'
        [31m-[39m           }
        [31m-[39m         ]
        [39m        },
        [39m        {
        [32m+[39m         author: null,
        [32m+[39m         comments: null
        [31m-[39m         author: {
        [31m-[39m           id: 'a1'
        [31m-[39m         },
        [31m-[39m         comments: [
        [31m-[39m           {
        [31m-[39m             id: 'c4'
        [31m-[39m           }
        [31m-[39m         ]
        [39m        }
        [39m      ]
        [39m    },
        [39m    errors: null
        [39m  }
        
      code: 'ERR_ASSERTION'
      name: 'AssertionError'
      expected:
        data:
          feed:
            0:
              author:
                id: 'a2'
              comments:
                0:
                  id: 'c1'
            1:
              author:
                id: 'a1'
              comments:
                0:
                  id: 'c4'
        errors: ~
      actual:
        data:
          feed:
            0:
              author: ~
              comments: ~
            1:
              author: ~
              comments: ~
        errors: ~
      operator: 'deepStrictEqual'
      stack: |-
        TestContext.<anonymous> (file:///home/ardatan/Guild/query-planner-rs/audits/node_modules/graphql-federation-gateway-audit/dist/test.js:45:21)
        process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        async Test.run (node:internal/test_runner/test:1069:7)
        async Suite.processPendingSubtests (node:internal/test_runner/test:752:7)
      ...
    # Subtest: requires-with-argument_4
    not ok 5 - requires-with-argument_4
      ---
      duration_ms: 11.856362
      type: 'test'
      location: '/home/ardatan/Guild/query-planner-rs/audits/node_modules/graphql-federation-gateway-audit/dist/test.js:29:9'
      failureType: 'testCodeFailure'
      error: |-
        Test failed for query
        
              query ($limit: Int = 1) {
                feed {
                  author {
                    id
                  }
                  ...Foo
                  ...Bar
                }
              }
        
              fragment Foo on Post {
                comments(limit: $limit) {
                  id
                }
              }
        
              fragment Bar on Post {
                comments(limit: $limit) {
                  id
                }
              }
            
        [32m- Expected[39m
        [31m+ Received[39m
        
        [2m  Object {[22m
        [2m    "data": Object {[22m
        [2m      "feed": Array [[22m
        [2m        Object {[22m
        [32m-         "author": Object {[39m
        [32m-           "id": "a2",[39m
        [31m+         "author": null,[39m
        [31m+         "comments": null,[39m
        [2m        },[22m
        [32m-         "comments": Array [[39m
        [2m        Object {[22m
        [32m-             "id": "c1",[39m
        [32m-           },[39m
        [32m-         ],[39m
        [32m-       },[39m
        [32m-       Object {[39m
        [32m-         "author": Object {[39m
        [32m-           "id": "a1",[39m
        [32m-         },[39m
        [32m-         "comments": Array [[39m
        [32m-           Object {[39m
        [32m-             "id": "c4",[39m
        [32m-           },[39m
        [32m-         ],[39m
        [31m+         "author": null,[39m
        [31m+         "comments": null,[39m
        [2m        },[22m
        [2m      ],[22m
        [2m    },[22m
        [2m    "errors": null,[22m
        [2m  }[22m
        [32m+ actual[39m [31m- expected[39m
        
        [39m  {
        [39m    data: {
        [39m      feed: [
        [39m        {
        [32m+[39m         author: null,
        [32m+[39m         comments: null
        [31m-[39m         author: {
        [31m-[39m           id: 'a2'
        [31m-[39m         },
        [31m-[39m         comments: [
        [31m-[39m           {
        [31m-[39m             id: 'c1'
        [31m-[39m           }
        [31m-[39m         ]
        [39m        },
        [39m        {
        [32m+[39m         author: null,
        [32m+[39m         comments: null
        [31m-[39m         author: {
        [31m-[39m           id: 'a1'
        [31m-[39m         },
        [31m-[39m         comments: [
        [31m-[39m           {
        [31m-[39m             id: 'c4'
        [31m-[39m           }
        [31m-[39m         ]
        [39m        }
        [39m      ]
        [39m    },
        [39m    errors: null
        [39m  }
        
      code: 'ERR_ASSERTION'
      name: 'AssertionError'
      expected:
        data:
          feed:
            0:
              author:
                id: 'a2'
              comments:
                0:
                  id: 'c1'
            1:
              author:
                id: 'a1'
              comments:
                0:
                  id: 'c4'
        errors: ~
      actual:
        data:
          feed:
            0:
              author: ~
              comments: ~
            1:
              author: ~
              comments: ~
        errors: ~
      operator: 'deepStrictEqual'
      stack: |-
        TestContext.<anonymous> (file:///home/ardatan/Guild/query-planner-rs/audits/node_modules/graphql-federation-gateway-audit/dist/test.js:45:21)
        process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        async Test.run (node:internal/test_runner/test:1069:7)
        async Suite.processPendingSubtests (node:internal/test_runner/test:752:7)
      ...
    1..5
not ok 1 - requires-with-argument
  ---
  duration_ms: 124.95959
  type: 'suite'
  location: '/home/ardatan/Guild/query-planner-rs/audits/node_modules/graphql-federation-gateway-audit/dist/test.js:27:1'
  failureType: 'subtestsFailed'
  error: '3 subtests failed'
  code: 'ERR_TEST_FAILURE'
  ...
1..1
# tests 5
# suites 1
# pass 2
# fail 3
# cancelled 0
# skipped 0
# todo 0
# duration_ms 215.83809
